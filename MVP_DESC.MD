–°–¥–µ–ª–∞–µ–º MVP –∫–∞–∫ –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç, –∞ –Ω–µ ‚Äú—á–∞—Ç–∏–∫ –ø–æ–≤–µ—Ä—Ö LLM‚Äù. –ù–∏–∂–µ ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É—Ä–æ–≤–Ω—è ‚Äú–º–æ–∂–Ω–æ –∏–¥—Ç–∏ –∫ —Ç–∏–º–ª–∏–¥—É –∏ —Ä–∏—Å–æ–≤–∞—Ç—å –¥–∏–∞–≥—Ä–∞–º–º—ã‚Äù.

–Ø –±—É–¥—É –≥–æ–≤–æ—Ä–∏—Ç—å –ø—Ä–æ **–æ–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π MVP**:
üëâ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–º–æ–≥–∞–µ—Ç **–≥–æ—Ç–æ–≤–∏—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã CSR** (Clinical Study Report) –Ω–∞ –æ—Å–Ω–æ–≤–µ TLF/–ø—Ä–æ—Ç–æ–∫–æ–ª–∞/IB, —Å –±–∞–∑–æ–≤–æ–π –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏. –≠—Ç–æ —Å–µ–π—á–∞—Å —Å–∞–º—ã–π ‚Äú–≥–æ—Ä—è—á–∏–π‚Äù use case –≤ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ ‚Äî –∫—Ä—É–ø–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ —É–∂–µ —Å–æ–∫—Ä–∞—â–∞—é—Ç –≤—Ä–µ–º—è –Ω–∞ CSR —Å –Ω–µ–¥–µ–ª—å –¥–æ –¥–Ω–µ–π –±–ª–∞–≥–æ–¥–∞—Ä—è GenAI. ([McKinsey & Company][1])

---

## 1. –ì—Ä–∞–Ω–∏—Ü—ã MVP –∏ –∫–ª—é—á–µ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–†–æ–ª–∏:**

* Medical writer / RA-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç
* Biostat / —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç (–∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ TLF & input)

**–°—Ü–µ–Ω–∞—Ä–∏–∏ MVP:**

1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ (–ø—Ä–æ—Ç–æ–∫–æ–ª, SAP, TLF –≤ –≤–∏–¥–µ Excel/RTF/JSON, –ø—Ä–æ—à–ª—ã–µ CSR).
2. –í—ã–±–æ—Ä —à–∞–±–ª–æ–Ω–∞ CSR (–ø–æ ICH E3 + company-specific).([–í–∏–∫–∏–ø–µ–¥–∏—è][2])
3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Efficacy results / Safety results).
4. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞, –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤.
5. –ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å-—á–µ–∫:

   * endpoints/–ø–æ–ø—É–ª—è—Ü–∏–∏;
   * —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã/—Ñ–∏–≥—É—Ä—ã.
6. –≠–∫—Å–ø–æ—Ä—Ç –≤ Word (docx) –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏.

–≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å value: ‚ÄúAI –¥–∞—ë—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ + –ø–æ–º–æ–≥–∞–µ—Ç –Ω–µ –Ω–∞–∫–æ—Å—è—á–∏—Ç—å —Å –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å—é‚Äù.

---

## 2. –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–º–æ–¥—É–ª—å–Ω–æ)

–¢–µ–∫—Å—Ç–æ–º, –Ω–æ –ø–æ —Å—É—Ç–∏ —ç—Ç–æ –æ–¥–Ω–∞ –¥–∏–∞–≥—Ä–∞–º–º–∞:

* **Frontend (Web UI)**
* **Backend API** (business logic)
* **Document Store + Relational DB**
* **LLM-—Å–µ—Ä–≤–∏—Å + –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –ø—Ä–æ–º–ø—Ç–æ–≤**
* **Vector Store (RAG)**
* **Consistency Checker**
* **Auth/RBAC + Audit Trail**

---

## 3. Frontend (Web UI)

–í–∞—Ä–∏–∞–Ω—Ç: SPA (React).

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã MVP

1. **–°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ / –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π**

   * Study ID, —Ñ–∞–∑–∞, –∏–Ω–¥–∏–∫–∞—Ü–∏—è, —Å—Ç–∞—Ç—É—Å (Draft/In review/Final).

2. **–≠–∫—Ä–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç–∞ (CSR)**

   * —Å–ª–µ–≤–∞: –¥–µ—Ä–µ–≤–æ —Ä–∞–∑–¥–µ–ª–æ–≤ –ø–æ ICH E3 (1, 2, 3‚Ä¶);
   * –ø–æ —Ü–µ–Ω—Ç—Ä—É: —Ä–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ (rich text, –∫–∞–∫ –≤ Word);
   * —Å–ø—Ä–∞–≤–∞: –ø–∞–Ω–µ–ª—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ (chat-like –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å + context).

3. **–û–∫–Ω–æ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤**

   * –ø—Ä–æ—Ç–æ–∫–æ–ª / SAP / –∏—Å—Ö–æ–¥–Ω—ã–µ TLF (—Ñ–∞–π–ª—ã);
   * –ø—Ä–∏–≤—è–∑–∫–∞ –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é.

4. **–≠–∫—Ä–∞–Ω –∑–∞–º–µ—á–∞–Ω–∏–π –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏**

   * —Å–ø–∏—Å–æ–∫ warnings (endpoint X –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –º–µ–∂–¥—É –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º –∏ CSR; N –≤ –ø–æ–ø—É–ª—è—Ü–∏–∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Ç–∞–±–ª–∏—Ü—ã 14.1.1 –∏ —Ç.–ø.).

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* Inline-–ø–æ–¥—Å–≤–µ—Ç–∫–∞:

  * —Ç–µ–∫—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª AI;
  * –º–µ—Å—Ç, –≥–¥–µ –µ—Å—Ç—å inconsistency-issues.
* Undo/redo, –∫–æ–º–º–µ–Ω—Ç—ã, —Ç—Ä–µ–∫–∏–Ω–≥ –≤–µ—Ä—Å–∏–π —Ä–∞–∑–¥–µ–ª–∞.

---

## 4. Backend / API —Å–ª–æ–π

–õ—É—á—à–µ –æ–¥–∏–Ω –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–π backend –¥–ª—è MVP (Node.js/TypeScript, Python/FastAPI, Java/Spring ‚Äî —á—Ç–æ –±–ª–∏–∂–µ –∫–æ–º–∞–Ω–¥–µ).

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã / –º–æ–¥—É–ª–∏

1. **Project & Document Management**

   * CRUD –ø—Ä–æ–µ–∫—Ç–æ–≤, –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, —Ä–∞–∑–¥–µ–ª–æ–≤;
   * —Å—Ç–∞—Ç—É—Å—ã, –≤–µ—Ä—Å–∏–∏.

2. **Template Service**

   * –æ—Ç–¥–∞—ë—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É CSR-—à–∞–±–ª–æ–Ω–∞ (–ø–æ ICH E3) –∏ company-specific —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏;
   * —Ö—Ä–∞–Ω–∏—Ç ‚Äú–∑–∞–ª–æ—á–µ–Ω–Ω—ã–µ‚Äù —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã (safety language –∏ —Ç.–ø.).

3. **Source Ingestion Service**

   * –ø—Ä–∏—ë–º —Ñ–∞–π–ª–æ–≤ (protocol, SAP, TLF, –ø—Ä–æ—à–ª—ã–µ CSR);
   * –≤—ã–∑–æ–≤—ã NLP-–ø–∞–π–ø–ª–∞–π–Ω–∞ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (—Ä–∞–∑–¥–µ–ª—ã, —Ç–∞–±–ª–∏—Ü—ã);
   * —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ document store + –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ vector store.

4. **AI Orchestrator**

   * —Å–±–æ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –ø—Ä–æ–º–ø—Ç–∞ (–∫–∞–∫–æ–π —Ä–∞–∑–¥–µ–ª, –∫–∞–∫–∏–µ TLF, –∫–∞–∫–∏–µ –∫—É—Å–∫–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞/IB);
   * –≤—ã–∑–æ–≤ LLM;
   * –ø–æ—Å—Ç-–æ–±—Ä–∞–±–æ—Ç–∫–∞ (–æ—á–∏—Å—Ç–∫–∞/—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ä–∞–∑–º–µ—Ç–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏).

5. **Consistency Checker**

   * –Ω–∞–±–æ—Ä –ø—Ä–∞–≤–∏–ª, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç:

     * endpoints/–ø–æ–ø—É–ª—è—Ü–∏–∏ –∏–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞/SAP vs —Ç–µ–∫—Å—Ç CSR;
     * –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Ç–∞–±–ª–∏—Ü –∏ —Ñ–∏–≥—É—Ä –≤ CSR vs —Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ TLF;
   * –≤—ã–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ issues + —Å—Å—ã–ª–∫–∏ –Ω–∞ –º–µ—Å—Ç–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ.

6. **Export Service**

   * —Å–±–æ—Ä —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–∑ —Ä–∞–∑–¥–µ–ª–æ–≤;
   * –≥–µ–Ω–µ—Ä–∞—Ü–∏—è docx –ø–æ –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É —Å—Ç–∏–ª—é.

7. **Auth & RBAC & Audit**

   * –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SSO (OIDC/SAML) –ª–∏–±–æ –ø—Ä–æ—Å—Ç–∞—è JWT-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è;
   * —Ä–æ–ª–∏: Viewer / Writer / Approver / Admin;
   * –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è + –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AI.

---

## 5. –•—Ä–∞–Ω–∏–ª–∏—â–∞: –¥–∞–Ω–Ω—ã–µ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### 5.1. Relational DB (Postgres, etc.)

–ü—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –Ω–∞–±–æ—Ä —Å—É—â–Ω–æ—Å—Ç–µ–π:

* **users** (id, –∏–º—è, email, —Ä–æ–ª—å)
* **studies** (id, code, –Ω–∞–∑–≤–∞–Ω–∏–µ, —Ñ–∞–∑–∞, –∏–Ω–¥–∏–∫–∞—Ü–∏—è, sponsor –∏ —Ç.–¥.)
* **documents** (id, study_id, type = CSR/Protocol/SAP, status)
* **sections** (id, document_id, parent_section_id, code –ø–æ ICH, title, current_version_id)
* **section_versions** (id, section_id, text, created_by, created_at, source = human/ai)
* **sources** (id, study_id, type = protocol/sap/tlf/csr_prev, file_path, parsed = bool)
* **consistency_issues** (id, section_id, severity, type, description, status, created_at, resolved_at)
* **audit_log** (id, user_id, action_type, payload_json, created_at)

### 5.2. Document Store (S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ / —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)

* –∏—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã (PDF/DOCX/Excel);
* –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, HTML/JSON —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤).

### 5.3. Vector Store (–¥–ª—è RAG)

–õ—é–±–æ–π –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –¥–≤–∏–∂–æ–∫: pgvector / Qdrant / Elasticsearch vector / Weaviate.

–ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ–º:

* —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ ‚Äú—á–∞–Ω–≥-–∏‚Äù –ø—Ä–æ—Ç–æ–∫–æ–ª–∞, IB, –ø—Ä–æ—à–ª—ã—Ö CSR;
* –æ–ø–∏—Å–∞–Ω–∏—è TLF (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –ª–µ–≥–µ–Ω–¥—ã).

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø–∏—Å–∏:

* id
* study_id
* source_type (protocol/sap/csr_prev/ib/tlf)
* chunk_text
* metadata (section_code, table_id, version –∏ —Ç.–ø.)
* embedding_vector

---

## 6. LLM-—Å–ª–æ–π –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

### 6.1. –í–∞—Ä–∏–∞–Ω—Ç—ã

* **–í–Ω–µ—à–Ω–∏–π LLM-—Å–µ—Ä–≤–∏—Å** (–µ—Å–ª–∏ —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∏–∫–∞/–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–æ–∑–≤–æ–ª—è–µ—Ç);
* **On-prem / VPC LLM** (open-source –∏–ª–∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π, —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç—ã–π –≤ –∫–æ–Ω—Ç—É—Ä–µ –∫–ª–∏–µ–Ω—Ç–∞).

–ö–ª—é—á–µ–≤–æ–µ: –¥–∞–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω—ã —É—Ç–µ–∫–∞—Ç—å –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º–æ–≥–æ –∫–æ–Ω—Ç—É—Ä–∞.

### 6.2. –ü–∞–π–ø–ª–∞–π–Ω –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞ —Ä–∞–∑–¥–µ–ª–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–∞–∑–¥–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, ‚ÄúResults ‚Äì Efficacy‚Äù).
2. Backend:

   * –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç TLF, –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —ç—Ç–æ–º—É —Ä–∞–∑–¥–µ–ª—É (–ø–æ mapping –ª–∏–±–æ —Ä—É—á–Ω–æ–π –ø—Ä–∏–≤—è–∑–∫–µ);
   * –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –≤ vector store, —á—Ç–æ–±—ã –Ω–∞–π—Ç–∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —á–∞—Å—Ç–∏ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞/SAP/IB;
   * –≥–æ—Ç–æ–≤–∏—Ç **structured prompt**:

     * —Å–∏—Å—Ç–µ–º–Ω–∞—è —á–∞—Å—Ç—å: —Å—Ç–∏–ª—å, —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è ICH E3, —Ñ–æ—Ä–º–∞—Ç –≤—ã—Ö–æ–¥–∞;([–í–∏–∫–∏–ø–µ–¥–∏—è][2])
     * –∫–æ–Ω—Ç–µ–∫—Å—Ç: –≤—ã–¥–µ—Ä–∂–∫–∏ –∏–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞/SAP + summary –ø–æ TLF (–∏–ª–∏ —Å–∞–º–∏ TLF –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ);
     * –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: ‚Äú—Å—Ñ–æ—Ä–º–∏—Ä—É–π —Ç–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞ X, —Å–æ–±–ª—é–¥–∞—è —Å—Ç–∏–ª—å –∏ –Ω–µ –ø—Ä–∏–¥—É–º—ã–≤–∞—è —Ü–∏—Ñ—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ‚Äù.
3. LLM –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–µ—Ä–Ω–æ–≤–∏–∫ —Ç–µ–∫—Å—Ç–∞.
4. Post-processing:

   * –Ω–∞—Ä–µ–∑–∫–∞ –Ω–∞ –ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã;
   * –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ ‚Äú—è–∫–æ—Ä–µ–π‚Äù –∫ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º (—Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π TLF/protocol chunk);
   * —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ `section_version` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `draft_ai`.

### 6.3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤

–û—Ç–¥–µ–ª—å–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç:

* Input: –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ç–µ–∫—Å—Ç –∏–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äú—Å–≥–µ–Ω–µ—Ä–∏ –∞–±–∑–∞—Ü –ø—Ä–æ ‚Ä¶‚Äù;
* Context: —Ç–æ—Ç –∂–µ RAG + —Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç —Ä–∞–∑–¥–µ–ª–∞;
* Output: –Ω–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –∞–±–∑–∞—Ü–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä.

---

## 7. Consistency Checker (—è–¥—Ä–æ ‚Äú—É–º–Ω–æ—Å—Ç–∏‚Äù MVP, –∫—Ä–æ–º–µ LLM)

–ü–æ–∫–∞ –±–µ–∑ —Ç—è–∂—ë–ª–æ–≥–æ ML ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ **–ø—Ä–∞–≤–∏–ª + –ø–∞—Ä—Å–∏–Ω–≥–∞**.

### 7.1. –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –≤ MVP

1. **Endpoints**

   * –∏–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –∏ SAP (–≤—ã—Ç–∞—Å–∫–∏–≤–∞–µ–º —Å–ø–∏—Å–∫–∏ primary/secondary endpoints –ø—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ);
   * –≤ CSR: –∏—â–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è (–ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é/–∫–æ–¥—É).
     ‚Üí Issues, –µ—Å–ª–∏ endpoint –ø–æ—è–≤–∏–ª—Å—è —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ, –ø–æ-—Ä–∞–∑–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω, –ø–æ–º–µ–Ω—è–ª—Å—è –ø–æ—Ä—è–¥–æ–∫/—Å—Ç–∞—Ç—É—Å.

2. **–ü–æ–ø—É–ª—è—Ü–∏–∏**

   * ITT / mITT / PP / Safety;
   * N –≤ –∫–∞–∂–¥–æ–π –ø–æ–ø—É–ª—è—Ü–∏–∏ –ø–æ TLF vs N, —É–ø–æ–º—è–Ω—É—Ç—ã–π –≤ —Ç–µ–∫—Å—Ç–µ.
     ‚Üí Issues, –µ—Å–ª–∏ —á–∏—Å–ª–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç (—Å —É—á—ë—Ç–æ–º –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –æ–∫—Ä—É–≥–ª–µ–Ω–∏–π).

3. **–¢–∞–±–ª–∏—Ü—ã –∏ —Ñ–∏–≥—É—Ä—ã**

   * —Å–ø–∏—Å–æ–∫ TLF (table_id, title) vs —Å–ø–∏—Å–æ–∫ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –≤ —Ç–µ–∫—Å—Ç–µ;
   * –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö/–ª–∏—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ (–≤ —Ç–µ–∫—Å—Ç–µ –µ—Å—Ç—å ‚ÄúTable 14.2.1‚Äù, –∞ —Ç–∞–∫–æ–π —Ç–∞–±–ª–∏—Ü—ã –Ω–µ—Ç).

4. **Meta-–∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**

   * –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–ª—é—á–µ–≤—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–æ–∑—ã, –ª–∏–Ω–∏–∏ —Ç–µ—Ä–∞–ø–∏–∏) –º–µ–∂–¥—É –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º –∏ CSR.

### 7.2. –ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

* –ü—Ä–∏ –ø–∞—Ä—Å–∏–Ω–≥–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞/SAP/CSR:

  * –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–≥—É–ª—è—Ä–∫–∏ + –ª—ë–≥–∫–∏–π NLP, —á—Ç–æ–±—ã:

    * –Ω–∞—Ö–æ–¥–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ ‚ÄúPrimary endpoint(s)‚Äù –∏ —Ç.–ø.;
    * –∏–∑–≤–ª–µ–∫–∞—Ç—å –º–∞—Ä–∫–¥–∞—É–Ω-—Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–æ–∫—É–º–µ–Ω—Ç–∞;
    * –ø–∞—Ä—Å–∏—Ç—å —Å–ø–∏—Å–∫–∏ N –ø–æ –ø–æ–ø—É–ª—è—Ü–∏—è–º.
* –í—Å–µ extracted-—Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Å–∫–ª–∞–¥—ã–≤–∞–µ–º –≤ —Ç–∞–±–ª–∏—Ü—ã DB (`endpoints`, `populations`, `tlf_index`).
* Checker ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å, –∫–æ—Ç–æ—Ä—ã–π:

  * –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∏–ª–∏ –ø–æ –∑–∞–ø—Ä–æ—Å—É –≤—ã—á–∏—Å–ª—è–µ—Ç differences;
  * —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `consistency_issues`.

---

## 8. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –∞—É–¥–∏—Ç, GxP-–º–∏–Ω–∏–º—É–º –¥–ª—è MVP

–ù–∞ —ç—Ç–æ–º —ç—Ç–∞–ø–µ **–Ω–µ –¥–µ–ª–∞–µ–º –ø–æ–ª–Ω—É—é GxP-–≤–∞–ª–∏–¥–∞—Ü–∏—é**, –Ω–æ —Å—Ä–∞–∑—É –ø—Ä–æ–µ–∫—Ç–∏—Ä—É–µ–º –ø–æ–¥ –Ω–µ—ë:

* **Audit Trail**

  * –ª–æ–≥–∏—Ä—É–µ–º, –∫–∞–∫–∏–µ AI-–∑–∞–ø—Ä–æ—Å—ã –±—ã–ª–∏ —Å–¥–µ–ª–∞–Ω—ã (–∫—Ç–æ, –∫–æ–≥–¥–∞, –∫ –∫–∞–∫–æ–º—É —Ä–∞–∑–¥–µ–ª—É);
  * —Ñ–∏–∫—Å–∏—Ä—É–µ–º –æ—Ç–≤–µ—Ç—ã –º–æ–¥–µ–ª–∏ (–≤ –∏–¥–µ–∞–ª–µ ‚Äî —Ö—ç—à/—Å–∂–∞—Ç—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, —á—Ç–æ–±—ã –Ω–µ —Ä–∞–∑–¥—É—Ç—å –ë–î);
  * –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ ‚Üí versioned + –∫—Ç–æ –ø—Ä–∏–Ω—è–ª.

* **RBAC**

  * Writer –º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å AI –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–µ—Ä–Ω–æ–≤–∏–∫–∏;
  * Approver –º–æ–∂–µ—Ç ‚Äú—É—Ç–≤–µ—Ä–∂–¥–∞—Ç—å‚Äù –≤–µ—Ä—Å–∏—é —Ä–∞–∑–¥–µ–ª–∞;
  * Admin —É–ø—Ä–∞–≤–ª—è–µ—Ç —à–∞–±–ª–æ–Ω–∞–º–∏ –∏ –¥–æ—Å—Ç—É–ø–∞–º–∏.

* **Data Isolation**

  * —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ tenant-–∞–º (–∫–∞–∂–¥—ã–π Sponsor/CRO –≤ —Å–≤–æ—ë–º –ª–æ–≥–∏—á–µ—Å–∫–æ–º (–∏–ª–∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–º) –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ);
  * –∑–∞–ø—Ä–µ—Ç –∫—Ä–æ—Å—Å-–ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î –∏ vector store.

–í –±—É–¥—É—â–µ–º —Å—é–¥–∞ –ª–µ–≥–∫–æ –¥–æ–∫—Ä—É—á–∏–≤–∞–µ—Ç—Å—è formal validation, Computer System Validation (CSV), SOP –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é AI –∏ —Ç.–¥. ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —É–∂–µ —ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç.

---

## 9. –ö–∞–∫–æ–π ‚Äú–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª‚Äù —Ä–µ–∞–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å –ø–µ—Ä–≤—ã–º

–ï—Å–ª–∏ –∂—ë—Å—Ç–∫–æ —É–∂–∞—Ç—å MVP (—É—Å–ª–æ–≤–Ω–æ ‚Äî 3‚Äì4 –º–µ—Å—è—Ü–∞ –∫–æ–º–∞–Ω–¥–æ–π 3‚Äì5 —á–µ–ª–æ–≤–µ–∫), —è –±—ã –≤–∑—è–ª:

1. **–û–¥–∏–Ω —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ ‚Äî CSR.**
2. –ò–º–ø–æ—Ä—Ç:

   * –ø—Ä–æ—Ç–æ–∫–æ–ª (DOCX/PDF ‚Üí —Ç–µ–∫—Å—Ç + —Ä–∞–∑–º–µ—Ç–∫–∞);
   * 1 —Ñ–æ—Ä–º–∞—Ç TLF (–Ω–∞–ø—Ä–∏–º–µ—Ä, Excel –ø–æ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ–º—É —à–∞–±–ª–æ–Ω—É).
3. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä CSR:

   * –¥–µ—Ä–µ–≤–æ —Ä–∞–∑–¥–µ–ª–æ–≤;
   * –≤–µ—Ä—Å–∏–∏ —Ç–µ–∫—Å—Ç–∞;
   * –ø—Ä–æ—Å—Ç–µ–π—à–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π/—Å—Ç–∞—Ç—É—Å —Ä–∞–∑–¥–µ–ª–∞.
4. GenAI-—Ñ–∏—á–∏:

   * –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–Ω–æ–≤–∏–∫–∞ 2‚Äì3 —Ä–∞–∑–¥–µ–ª–æ–≤ (Efficacy, Safety, Summary);
   * –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–±–∑–∞—Ü–∞;
   * Q&A –ø–æ –ø—Ä–æ—Ç–æ–∫–æ–ª—É/CSR (‚Äú–∫–∞–∫ –æ–ø–∏—Å–∞–Ω primary endpoint?‚Äù).
5. Consistency-check —Ç–æ–ª—å–∫–æ –ø–æ:

   * primary/secondary endpoints;
   * —á–∏—Å–ª–∞–º N –ø–æ –∫–ª—é—á–µ–≤—ã–º –ø–æ–ø—É–ª—è—Ü–∏—è–º;
   * —Å—Å—ã–ª–∫–∞–º –Ω–∞ TLF.
6. –≠–∫—Å–ø–æ—Ä—Ç –≤ docx –ø–æ –æ–¥–Ω–æ–º—É –ø—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É —Å—Ç–∏–ª—é.

---








—á—Ç–æ **—Ä–µ–∞–ª—å–Ω–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ MVP**, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –¥–µ–ª–∞—Ç—å –ø–∏–ª–æ—Ç —Å–æ —Å–ø–æ–Ω—Å–æ—Ä–æ–º/CRO.

---

## 1. –ë–∞–∑–æ–≤–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–æ–µ–∫—Ç—ã)

1. **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∞**

   * –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/—Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ–∫–∞ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∞/—Å–∫—Ä–∏–ø—Ç –æ–∫).
   * –õ–æ–≥–∏–Ω –ø–æ **JWT** (—Ç–æ, —á—Ç–æ —Ç—ã —É–∂–µ –ø—Ä–∏–∫—Ä—É—Ç–∏–ª–∞).
   * –ú–∏–Ω–∏–º—É–º: —Ä–æ–ª—å **‚Äúuser‚Äù** (–º–µ–¥—Ä–∞–π—Ç–µ—Ä/RA), –ø–æ–∑–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å ‚Äúadmin‚Äù.

2. **–ü—Ä–æ–µ–∫—Ç—ã / –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è**

   * –°—É—â–Ω–æ—Å—Ç—å `Study`:

     * `id`, `code` (ABC123), `title`, `phase`, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ `indication`, `sponsor`.
   * API:

     * `GET /studies` ‚Äî —Å–ø–∏—Å–æ–∫.
     * `POST /studies` ‚Äî —Å–æ–∑–¥–∞—Ç—å.
   * –í–æ —Ñ—Ä–æ–Ω—Ç–µ:

     * –õ–µ–≤—ã–π —Å–∞–π–¥–±–∞—Ä —Å–æ —Å–ø–∏—Å–∫–æ–º –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π.
     * –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ.

---

## 2. –î–æ–∫—É–º–µ–Ω—Ç—ã-–∏—Å—Ç–æ—á–Ω–∏–∫–∏ (Protocol / SAP / TLF / –ø—Ä–æ—à–ª—ã–π CSR)

1. **SourceDocument**

   * –¢–∏–ø—ã: `protocol`, `sap`, `tlf`, `csr_prev`.
   * –ü–æ–ª—è: `study_id`, `type`, `file_name`, `storage_path`, `uploaded_at`.

2. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**

   * –≠–Ω–¥–ø–æ–∏–Ω—Ç: `POST /sources/{study_id}/upload` (multipart/form-data).
   * –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–∞–π–ª –Ω–∞ –¥–∏—Å–∫ (–∏–ª–∏ –≤ S3-–ø–æ–¥–æ–±–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ).
   * –ü–∏—à–µ–º –∑–∞–ø–∏—Å—å –≤ `SourceDocument`.

3. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

   * –í–æ —Ñ—Ä–æ–Ω—Ç–µ: –≤–∫–ª–∞–¥–∫–∞/—Å–µ–∫—Ü–∏—è ‚ÄúDocuments‚Äù –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

     * —Å–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ —Å —Ç–∏–ø–æ–º.
     * —Å—Ç–∞—Ç—É—Å: –∑–∞–≥—Ä—É–∂–µ–Ω–æ/–ø—Ä–æ–∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–æ (–º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —Ñ–ª–∞–∂–æ–∫).

---

## 3. CSR-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä

1. **–ú–æ–¥–µ–ª—å CSR**

   * `CsrDocument`: –æ–¥–∏–Ω CSR –Ω–∞ `study_id`, –ø–æ–ª—è: `id`, `study_id`, `title`, `status`.
   * `CsrSection`: —Ä–∞–∑–¥–µ–ª—ã CSR:

     * `id`, `document_id`, `code`, `title`, `order_index`.
   * `CsrSectionVersion`:

     * `id`, `section_id`, `text`, `created_at`, `created_by`, `source` (`"human"` / `"ai"`).

2. **API**

   * `GET /csr/{study_id}` ‚Äî –æ—Ç–¥–∞—Ç—å/—Å–æ–∑–¥–∞—Ç—å CSR –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º–∏ —Å–µ–∫—Ü–∏—è–º–∏ (Synopsis, Efficacy, Safety‚Ä¶).
   * `GET /csr/{study_id}/sections` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π.
   * `GET /csr/sections/{section_id}/versions/latest` ‚Äî —Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç.
   * `POST /csr/sections/{section_id}/versions` ‚Äî —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Ç–µ–∫—Å—Ç–∞.

3. **–§—Ä–æ–Ω—Ç**

   * –õ–µ–≤—ã–π –±–ª–æ–∫ –≤–Ω—É—Ç—Ä–∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è: –¥–µ—Ä–µ–≤–æ —Å–µ–∫—Ü–∏–π CSR.
   * –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π **—Ä–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞** –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Å–µ–∫—Ü–∏–∏:

     * –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–µ–∫—Ü–∏–∏,
     * —Ç–µ–∫—Å—Ç (—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π),
     * –∫–Ω–æ–ø–∫–∏: **Save**, **Generate with AI**.
   * –ü–æ–∫–∞ –º–æ–∂–Ω–æ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ track changes ‚Äî –ø—Ä–æ—Å—Ç–æ —Ö—Ä–∞–Ω–∏—Ç—å –≤–µ—Ä—Å–∏–∏ –Ω–∞ –±—ç–∫–µ.

---

## 4. AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π, –Ω–æ ‚Äú—á–µ—Å—Ç–Ω—ã–π‚Äù)

1. **AI API**

   * `POST /ai/generate-section-text`:

     * –≤—Ö–æ–¥: `section_id`, `prompt` (–∏–ª–∏ preset),
     * –≤—ã—Ö–æ–¥: `generated_text`, `section_id`, `model`.
   * –ù–∞ —Å—Ç–∞—Ä—Ç–µ –º–æ–∂–Ω–æ:

     * –ª–∏–±–æ stub (—Ñ–µ–π–∫–æ–≤—ã–π —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å UX),
     * –ª–∏–±–æ –ø—Ä–æ—Å—Ç–æ–π –≤—ã–∑–æ–≤ LLM –±–µ–∑ RAG (–ø—Ä–æ–º–ø—Ç + –∫–æ—Ä–æ—Ç–∫–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞).

2. **–§—Ä–æ–Ω—Ç**

   * –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å **AI Assistant**:

     * –ø–æ–ª–µ –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞/–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏,
     * —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (—Ö–æ—Ç—è –±—ã –ø–æ—Å–ª–µ–¥–Ω–∏–µ 1‚Äì2),
     * –∫–Ω–æ–ø–∫–∞ **Send**.
   * –ö–Ω–æ–ø–∫–∞ **Generate with AI** –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ:

     * –¥–µ—Ä–≥–∞–µ—Ç `/ai/generate-section-text`,
     * –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä (–ª–∏–±–æ –∑–∞–º–µ–Ω–æ–π, –ª–∏–±–æ —Å–Ω–∏–∑—É —Å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–æ–π).

3. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ AI**

   * `AiCallLog`: `timestamp`, `user`, `study_id`, `section_id`, `prompt`, `response`, `model_name`.
   * –ó–∞–ø–∏—Å—å –ª–æ–≥–∞ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ ‚Äî —ç—Ç–æ –ø–ª—é—Å –¥–ª—è –∞—É–¥–∏—Ç–∞.

---

## 5. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π RAG (–±–µ–∑ —Ñ–∞–Ω–∞—Ç–∏–∑–º–∞)

MVP-—É—Ä–æ–≤–µ–Ω—å: —É–∂–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ ‚Äú–≥–æ–ª—ã–π —á–∞—Ç‚Äù, –Ω–æ –∏ –Ω–µ —Å—É–ø–µ—Ä-—Å–∏—Å—Ç–µ–º–∞.

1. **RagChunk**

   * `study_id`, `source_type` (`protocol`, `sap`, `tlf_summary`, `csr_prev`), `text`, `created_at`.
   * –ü–æ–∫–∞ –º–æ–∂–Ω–æ **–±–µ–∑ embeddings**, —Ç–æ–ª—å–∫–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `study_id` –∏ —Ç–∏–ø—É.

2. **Ingestion**

   * –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ `SourceDocument`:

     * —á–∏—Ç–∞–µ–º —Ñ–∞–π–ª (–Ω–∞ —Å—Ç–∞—Ä—Ç–µ —Ö–æ—Ç—è –±—ã text/–ø—Ä–æ—Å—Ç—ã–µ docx ‚Üí text),
     * —Ä–µ–∂–µ–º –Ω–∞ —á–∞–Ω–∫–∏ –ø–æ –∞–±–∑–∞—Ü–∞–º/—Ä–∞–∑–º–µ—Ä—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ 500‚Äì1000 —Å–∏–º–≤–æ–ª–æ–≤),
     * —Å–æ—Ö—Ä–∞–Ω—è–µ–º –≤ `RagChunk`.

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ AI**

   * –í `generate-section-text`:

     * –¥–æ—Å—Ç–∞—ë–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞–Ω–∫–æ–≤ –∏–∑ `RagChunk` –ø–æ `study_id` + `source_type` (protocol/sap/‚Ä¶),
     * —Å–æ–±–∏—Ä–∞–µ–º –ø—Ä–æ–º–ø—Ç: `### CONTEXT` + `### TASK`,
     * –ø–æ–¥–∞—ë–º –≤ LLM.

–≠—Ç–æ —É–∂–µ —á–µ—Å—Ç–Ω—ã–π RAG, —Ö–æ—Ç—å –∏ –±–µ–∑ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ —É–º–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞. –≠—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –ø–æ–∫–∞–∑–∞—Ç—å –ø–∏–ª–æ—Ç—É, —á—Ç–æ –º–æ–¥–µ–ª—å –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.

---

## 6. Consistency / QC (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å–ª–æ–π)

MVP-—É—Ä–æ–≤–µ–Ω—å: –Ω–µ –≤—Å—ë, —á—Ç–æ –º—ã –æ–±—Å—É–∂–¥–∞–ª–∏, –∞ **1‚Äì2 –ø—Ä–æ—Å—Ç—ã—Ö –ø—Ä–∞–≤–∏–ª–∞**, –Ω–æ —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö.

1. **–ü—Ä–∏–º–µ—Ä—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —á–µ–∫–æ–≤**

   * N –≤ ITT-population:

     * –ø–∞—Ä—Å–∏–º –∏–∑ TLF-summary (–∏–ª–∏ –ø–µ—Ä–µ–¥–∞—ë–º —Ä—É–∫–∞–º–∏),
     * –≤ —Ç–µ–∫—Å—Ç–µ –∏—â–µ–º –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ N (–ø—Ä–æ—Å—Ç–æ–µ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ).
   * –ù–∞–∑–≤–∞–Ω–∏–µ primary endpoint:

     * –∏–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞/SAP,
     * —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º —Å —Ç–µ–º, —á—Ç–æ —É–ø–æ–º—è–Ω—É—Ç–æ –≤ —Ç–µ–∫—Å—Ç–µ —Å–µ–∫—Ü–∏–∏.

2. **–ú–æ–¥–µ–ª—å Issues**

   * `Issue`: `id`, `study_id`, `section_id`, `severity` (`major`/`minor`), `type` (`N_MISMATCH`, `ENDPOINT_NAME`‚Ä¶), `message`, `created_at`.

3. **API**

   * `GET /csr/sections/{section_id}/issues` ‚Äî —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º –¥–ª—è —Å–µ–∫—Ü–∏–∏.
   * –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: `POST /qc/run/{section_id}` ‚Äî –ø–µ—Ä–µ—Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å QC –¥–ª—è —Å–µ–∫—Ü–∏–∏.

4. **–§—Ä–æ–Ω—Ç**

   * –ù–∏–∂–Ω—è—è/–ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å **Consistency issues**:

     * —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º (severity + —Ç–µ–∫—Å—Ç),
     * –∫–ª–∏–∫–æ–º –º–æ–∂–Ω–æ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—É –≤ —Ç–µ–∫—Å—Ç–µ (–º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –ø–æ—Ç–æ–º, —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ—Å—Ç–æ —Å–ø–∏—Å–æ–∫).

---

## 7. –≠–∫—Å–ø–æ—Ä—Ç –∏ —Ñ–æ—Ä–º–∞—Ç

1. **–≠–∫—Å–ø–æ—Ä—Ç CSR**

   * –≠–Ω–¥–ø–æ–∏–Ω—Ç —Ç–∏–ø–∞: `GET /csr/{study_id}/export-docx`.
   * –ù–∞ MVP –º–æ–∂–Ω–æ:

     * —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π DOCX (python-docx) –ø–æ —Å–µ–∫—Ü–∏—è–º,
     * –±–µ–∑ –∏–¥–µ–∞–ª—å–Ω–æ –≤—ã–ª–∏–∑–∞–Ω–Ω—ã—Ö —Å—Ç–∏–ª–µ–π, –Ω–æ —Å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ –∏ —Ç–µ–∫—Å—Ç–æ–º.

2. **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å**

   * –ö–Ω–æ–ø–∫–∞ **Export to Word** –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è/–¥–æ–∫—É–º–µ–Ω—Ç–∞.

---

## 8. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ–±–≤—è–∑–∫–∞ –∏ ‚Äú–≥–∏–≥–∏–µ–Ω–∞‚Äù

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å / –æ–∫—Ä—É–∂–µ–Ω–∏—è**

   * CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω (—Ç—ã —É–∂–µ –¥–µ–ª–∞–ª–∞).
   * JWT auth –≤–∫–ª—é—á—ë–Ω –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–∞—Ö (`/studies`, `/csr`, `/sources`, `/ai`).
   * `.env.dev` / `.env.prod` —Å —Ä–∞–∑–Ω—ã–º–∏ `DATABASE_URL`, `SECRET_KEY` –∏ –¥—Ä.

2. **–ò–Ω—Ñ—Ä–∞**

   * `docker-compose` —Ö–æ—Ç—è –±—ã –¥–ª—è Postgres.
   * requirements.txt/poetry —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏.

3. **–õ–æ–≥–∏**

   * –±–∞–∑–æ–≤—ã–µ –ª–æ–≥–∏ FastAPI + –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫.
   * –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã–∑–æ–≤–æ–≤ AI (—Å–º. –≤—ã—à–µ).

---

### –ï—Å–ª–∏ —Å–æ–≤—Å–µ–º –∫–æ—Ä–æ—Ç–∫–æ ‚ÄúMVP = must have‚Äù

* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–ª–æ–≥–∏–Ω–∏–ª—Å—è (JWT).
* –í—ã–±—Ä–∞–ª –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ ‚Üí —É–≤–∏–¥–µ–ª —Å–ø–∏—Å–æ–∫ CSR-—Ä–∞–∑–¥–µ–ª–æ–≤.
* –û—Ç–∫—Ä—ã–ª —Ä–∞–∑–¥–µ–ª ‚Üí —É–≤–∏–¥–µ–ª —Ç–µ–∫—Å—Ç, –º–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å.
* –ó–∞–≥—Ä—É–∑–∏–ª –ø—Ä–æ—Ç–æ–∫–æ–ª/SAP/TLF ‚Üí —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Ä–µ–∑–∞–ª–∞ –∏—Ö –≤ RAG-—á–∞–Ω–∫–∏.
* –ù–∞–∂–∞–ª ‚ÄúGenerate with AI‚Äù ‚Üí –ø–æ–ª—É—á–∏–ª —Ç–µ–∫—Å—Ç, —è–≤–Ω–æ –æ–ø–∏—Ä–∞—é—â–∏–π—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç.
* –£–≤–∏–¥–µ–ª –ø—Ä–æ—Å—Ç—ã–µ **consistency issues** (—Ö–æ—Ç—è –±—ã –ø–æ N/endpoint).
* –°–∫–∞—á–∞–ª Word-–≤–µ—Ä—Å–∏—é —á–µ—Ä–Ω–æ–≤–∏–∫–∞ CSR.

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å, –¥–∞–ª—å—à–µ –º–æ–≥—É:

* –ø–æ–º–æ—á—å –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å: —á—Ç–æ –¥–µ–ª–∞—Ç—å –≤ **–ø–µ—Ä–≤–æ–º —Ä–µ–ª–∏–∑–µ** (2‚Äì3 —Å–ø—Ä–∏–Ω—Ç–∞), –∞ —á—Ç–æ –º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å –Ω–∞ MVP 1.1,
* –∏–ª–∏ —Ä–∞–∑–ª–æ–∂–∏—Ç—å —ç—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –≤ —Ç–∞–±–ª–∏—á–∫—É ‚Äú–§–∏—á–∞ ‚Üí –ë—ç–∫–µ–Ω–¥ ‚Üí –§—Ä–æ–Ω—Ç–µ–Ω–¥ ‚Üí AI-–ª–æ–≥–∏–∫–∞‚Äù, —á—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.
